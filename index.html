<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS Study Progress Tracker</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .calendar { display: grid; grid-template-columns: repeat(8, 1fr); gap: 5px; text-align: center; }
        .day, .header { padding: 10px; border: 1px solid #ccc; }
        .header { font-weight: bold; background: #f4f4f4; }
        .completed { background-color: #a3d9a5; }
        .progress-bar { height: 20px; background-color: #ccc; margin-top: 10px; }
        .progress { height: 100%; background-color: #4caf50; width: 0%; }
    </style>
</head>
<body>
    <h2>CS Study Progress Tracker</h2>
    <div class="progress-bar">
        <div class="progress" id="progress"></div>
    </div>
    <div id="studyPlan"></div>
    
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const studyPlan = document.getElementById("studyPlan");
            const progressBar = document.getElementById("progress");
            
            const curriculum = [
                { phase: "Foundation Phase", weeks: 10, topics: [
                    { name: "Discrete Mathematics", weeks: 3 },
                    { name: "Data Structures & Algorithms", weeks: 3 },
                    { name: "Computer Architecture", weeks: 4 }
                ]},
                { phase: "Systems Phase", weeks: 10, topics: [
                    { name: "Operating Systems", weeks: 3 },
                    { name: "Computer Networks", weeks: 3 },
                    { name: "Database Systems", weeks: 4 }
                ]},
                { phase: "Theory Phase", weeks: 8, topics: [
                    { name: "Theory of Computation", weeks: 4 },
                    { name: "Compiler Design", weeks: 4 }
                ]},
                { phase: "Advanced Phase", weeks: 12, topics: [
                    { name: "Artificial Intelligence & Machine Learning", weeks: 6 },
                    { name: "Systems Design & Engineering", weeks: 6 },
                    { name: "Computer Graphics", weeks: 4 },
                    { name: "Software Engineering", weeks: 4 }
                ]}
            ];
            
            let progress = JSON.parse(localStorage.getItem("progress")) || {};
            
            function renderPlan() {
                studyPlan.innerHTML = "";
                curriculum.forEach((section, phaseIndex) => {
                    const sectionDiv = document.createElement("div");
                    sectionDiv.innerHTML = `<h3>${section.phase}</h3>`;
                    
                    const table = document.createElement("div");
                    table.classList.add("calendar");
                    
                    const headers = ["Topic", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"];
                    headers.forEach(header => {
                        const div = document.createElement("div");
                        div.classList.add("header");
                        div.textContent = header;
                        table.appendChild(div);
                    });
                    
                    section.topics.forEach((topic, topicIndex) => {
                        const topicCell = document.createElement("div");
                        topicCell.classList.add("day");
                        topicCell.textContent = topic.name;
                        table.appendChild(topicCell);
                        
                        // Add rows for each week based on the "weeks" field for each topic
                        for (let week = 0; week < topic.weeks; week++) {
                            for (let day = 0; day < 7; day++) {
                                const cell = document.createElement("div");
                                cell.classList.add("day");
                                
                                const checkbox = document.createElement("input");
                                checkbox.type = "checkbox";
                                const key = `${phaseIndex}-${topicIndex}-${week}-${day}`;
                                checkbox.checked = progress[key] || false;
                                
                                checkbox.addEventListener("change", () => toggleProgress(key, cell));
                                if (checkbox.checked) cell.classList.add("completed");
                                
                                cell.appendChild(checkbox);
                                table.appendChild(cell);
                            }
                        }
                    });
                    
                    sectionDiv.appendChild(table);
                    studyPlan.appendChild(sectionDiv);
                });
                updateProgress();
            }
            
            function toggleProgress(key, cell) {
                progress[key] = !progress[key];
                if (progress[key]) {
                    cell.classList.add("completed");
                } else {
                    delete progress[key];
                    cell.classList.remove("completed");
                }
                localStorage.setItem("progress", JSON.stringify(progress));
                updateProgress();
            }
            
            function updateProgress() {
                const totalTasks = Object.keys(progress).length;
                const totalWeeks = curriculum.reduce((sum, sec) => sum + sec.topics.reduce((sum2, topic) => sum2 + topic.weeks, 0), 0);
                const totalDays = totalWeeks * 7; // Each week has 7 days
                const percentage = (totalTasks / totalDays) * 100;
                progressBar.style.width = `${percentage}%`;
            }
            
            renderPlan();
        });
    </script>
</body>
</html>
